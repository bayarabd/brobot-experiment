<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/brobot/blog/rss.xml" title="Brobot RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/brobot/blog/atom.xml" title="Brobot Atom Feed"><title data-react-helmet="true">State Management | Brobot</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jspinak.github.io/brobot/docs/introduction/core-features/state-management"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="State Management | Brobot"><meta data-react-helmet="true" name="description" content="Brobot actively maintains an awareness of which States are active at any"><meta data-react-helmet="true" property="og:description" content="Brobot actively maintains an awareness of which States are active at any"><link data-react-helmet="true" rel="shortcut icon" href="/brobot/img/brobot-happy.ico"><link data-react-helmet="true" rel="canonical" href="https://jspinak.github.io/brobot/docs/introduction/core-features/state-management"><link data-react-helmet="true" rel="alternate" href="https://jspinak.github.io/brobot/docs/introduction/core-features/state-management" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jspinak.github.io/brobot/docs/introduction/core-features/state-management" hreflang="x-default"><link rel="stylesheet" href="/brobot/assets/css/styles.66b9a977.css">
<link rel="preload" href="/brobot/assets/js/runtime~main.6969e4e5.js" as="script">
<link rel="preload" href="/brobot/assets/js/main.4a1999c8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/brobot/"><div class="navbar__logo"><img src="/brobot/img/brobot_logo/brobot-happy-text.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/brobot/img/brobot_logo/brobot-happy-text.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/brobot/docs/introduction/introduction">Introduction</a><a class="navbar__item navbar__link navbar__link--active" href="/brobot/docs/tutorial-basics/intro">Tutorial</a><a class="navbar__item navbar__link navbar__link--active" href="/brobot/docs/API/overview">API</a><a class="navbar__item navbar__link" href="/brobot/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Introduction</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/introduction/introduction">Why Brobot?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Core Features</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/introduction/core-features/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/introduction/core-features/states">States</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/introduction/core-features/mocking">Mocking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/introduction/core-features/processes-as-objects">Processes as Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/introduction/core-features/controlling-the-GUI">Controlling the GUI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/brobot/docs/introduction/core-features/state-management">State Management</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial - A Simple App</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>State Management</h1></header><p>Brobot actively maintains an awareness of which States are active at any
time. It does this by keeping track of which States have become active,
which States have exited, and which States have been hidden as others have
become active. Paths and Transitions allow Brobot to move from one State to
another with one line of code. It is not important which States are currently
active, as Brobot can find a path to the target State and follow it.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="state-memory">State Memory<a aria-hidden="true" class="hash-link" href="#state-memory" title="Direct link to heading">â€‹</a></h2><p>The Find operation works together with the State Memory, which is
a class that holds the State currently active. When an image is found,
its owner State is registered in State Memory. Similarly, when a State
is exited, it is removed from State Memory.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="hidden-states">Hidden States<a aria-hidden="true" class="hash-link" href="#hidden-states" title="Direct link to heading">â€‹</a></h2><p>Imagine in the program you are controlling you have a menu that covers
part of the screen. When it is opened, it covers any States in this area,
and when it is closed these States reappear. Since the menu can be opened at
any time while the program is running, you don&#x27;t know beforehand which
States will be hidden. The easiest path to one of the hidden States is
simply closing the menu, but how can Brobot know this? The answer is through
management of hidden States, which are
registered for each State when the State is opened, and removed from the
State&#x27;s hidden States field when the State is closed. Transitions allow for
a variable State name called PREVIOUS to specify how to move to a hidden State.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="transitions">Transitions<a aria-hidden="true" class="hash-link" href="#transitions" title="Direct link to heading">â€‹</a></h2><p>Every State that is reachable needs to have an associated StateTransitions class.
The StateTransitions class comprises Transition objects, which provide a
means to move from one State to another. Transitions are split into two types:
FromTransitions and ToTransitions. FromTransitions handle the process of moving
from the current State to another State, and ToTransitions end the process of
moving to the current State. For example, to go from State A to State B, first
the FromTransition A -&gt; B will be called, and then the ToTransition -&gt; B will
be called. It looks like this:</p><u>StateTransitions for State A</u><p>The FromTransition tells us what to do in State A in order to go to State B</p><u>StateTransitions for State B</u><p>The ToTransition tells us what to do in State B to finish opening the State,
regardless of which State started the process. There can be multiple FromTransitions
going to State B from different States, but there is only one ToTransition to State B.</p><p>In the StateTransitions Builder, ToTransitions are created with the command &#x27;addTransitionFinish&#x27;
and FromTransitions are created with the command &#x27;addTransition&#x27;. The method passed to
&#x27;addTransitionFinish&#x27; is always called finishTransition(). The methods passed to
&#x27;addTransition&#x27; can have any name.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="paths">Paths<a aria-hidden="true" class="hash-link" href="#paths" title="Direct link to heading">â€‹</a></h2><p>Paths are State chains that show how to reach a target State from a start State.
Going to any State is as easy as writing &#x27;open(State name)&#x27; and Brobot will
find Paths to that State and attempt to transition until the target State is reached
or all Paths have been unsuccessfully attempted. Paths have scores associated with
them, corresponding to the sum of the scores of individual States. Paths with lower
scores will be tried first, and State scores can be changed dynamically if necessary.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="state-finder-and-the-unknown-state">State Finder and the Unknown State<a aria-hidden="true" class="hash-link" href="#state-finder-and-the-unknown-state" title="Direct link to heading">â€‹</a></h2><p>In case Brobot gets lost and cannot find any of the active States, there is
a State Finder that will search for active States. This is a costly operation
but will rebuild the list of active States in State Memory and allow the
automation to continue.</p><p>There is also a possibility that something really unexpected happens and that
no States are active. In this case the UNKNOWN State will become active. The UNKNOWN
State also has Transitions and will attempt these Transitions in order to find its
way back to the target State. Any code meant to deal with unexpected situations
in which no States are visible should go into the UNKNOWN State&#x27;s Transitions.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://jspinak.github.io/brobot/docs/introduction/core-features/state-management.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/brobot/docs/introduction/core-features/controlling-the-GUI"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Controlling the GUI</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/brobot/docs/tutorial-basics/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Intro<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#state-memory" class="table-of-contents__link toc-highlight">State Memory</a></li><li><a href="#hidden-states" class="table-of-contents__link toc-highlight">Hidden States</a></li><li><a href="#transitions" class="table-of-contents__link toc-highlight">Transitions</a></li><li><a href="#paths" class="table-of-contents__link toc-highlight">Paths</a></li><li><a href="#state-finder-and-the-unknown-state" class="table-of-contents__link toc-highlight">State Finder and the Unknown State</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/brobot/docs/tutorial-basics/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/brobot" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/brobotJosh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/brobot/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/jspinak/brobot" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgRljq-lHkMLrzRzpJC4HNw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2022 Joshua Spinak</div></div></div></footer></div>
<script src="/brobot/assets/js/runtime~main.6969e4e5.js"></script>
<script src="/brobot/assets/js/main.4a1999c8.js"></script>
</body>
</html>