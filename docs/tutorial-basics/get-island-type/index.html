<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/brobot/blog/rss.xml" title="Brobot RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/brobot/blog/atom.xml" title="Brobot Atom Feed"><title data-react-helmet="true">Get Island Type | Brobot</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jspinak.github.io/brobot/docs/tutorial-basics/get-island-type"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Get Island Type | Brobot"><meta data-react-helmet="true" name="description" content="Here we determine the island type from the on-screen text."><meta data-react-helmet="true" property="og:description" content="Here we determine the island type from the on-screen text."><link data-react-helmet="true" rel="shortcut icon" href="/brobot/img/brobot-happy.ico"><link data-react-helmet="true" rel="canonical" href="https://jspinak.github.io/brobot/docs/tutorial-basics/get-island-type"><link data-react-helmet="true" rel="alternate" href="https://jspinak.github.io/brobot/docs/tutorial-basics/get-island-type" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jspinak.github.io/brobot/docs/tutorial-basics/get-island-type" hreflang="x-default"><link rel="stylesheet" href="/brobot/assets/css/styles.66b9a977.css">
<link rel="preload" href="/brobot/assets/js/runtime~main.ba0eaa6f.js" as="script">
<link rel="preload" href="/brobot/assets/js/main.abfd4bad.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/brobot/"><div class="navbar__logo"><img src="/brobot/img/brobot_logo/brobot-happy-text.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/brobot/img/brobot_logo/brobot-happy-text.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/brobot/docs/introduction/introduction">Introduction</a><a class="navbar__item navbar__link navbar__link--active" href="/brobot/docs/tutorial-basics/intro">Tutorial</a><a class="navbar__item navbar__link navbar__link--active" href="/brobot/docs/API/overview">API</a><a class="navbar__item navbar__link" href="/brobot/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorial - A Simple App</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/init-brobot">Initialize Brobot&#x27;s Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/states">States</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/transitions">Transitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/define-capture-region">Define the Capture Region</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/brobot/docs/tutorial-basics/get-island-type">Get Island Type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/save-labeled-image">Save Labeled Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/mock-results">Mock Results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/live-results">Live Results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/tutorial-basics/live-automation">Live Automation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Get Island Type</h1></header><p>Here we determine the island type from the on-screen text.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="go-to-a-new-island-and-get-its-type">Go to a new Island and Get its Type<a aria-hidden="true" class="hash-link" href="#go-to-a-new-island-and-get-its-type" title="Direct link to heading">â€‹</a></h2><p>Here we call the transition directly instead of using Brobot&#x27;s state management system
by calling StateTransitionsManagement.openState(ISLAND). Normally we would use the
state management system, which takes care of everything related to transitions, including
finding and traversing paths. In this case, the state management system would not do
anything because the Island state is already active. In this special situation, we want to
perform the transition activities from the World state to the Island state even though the
Island state is already present. The reason we want to do this is that this transition will
take us to a different island. The Island state does not know whether the specific island
has changed. It only recognizes that it is on an island.</p><p>If the text we found on-screen contains any of these substrings,
we return the corresponding island type. Otherwise, we return an
empty string.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public String getIsland() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    worldTransitions.goToIsland();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String textRead = getIslandType();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (Map.Entry&lt;String, String&gt; type : islandTypes.entrySet()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (textRead.contains(type.getKey())) return type.getValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="capturing-text">Capturing Text<a aria-hidden="true" class="hash-link" href="#capturing-text" title="Direct link to heading">â€‹</a></h2><p>With the following action we retrieve the text found where the island
names are. We know that at least one name was already found when
the state management system opened the Island state, since the IslandName
variable is the only StateImageObject that identifies the Island state.
Since the IslandName has already been found once, its SearchRegion will be defined
as the region where it was first found. We can then use this SearchRegion to retrieve
the name of the new island type.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">private String getIslandType() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ActionOptions getText = new ActionOptions.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setAction(ActionOptions.Action.GET_TEXT)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .getTextUntil(ActionOptions.GetTextUntil.TEXT_APPEARS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setUseDefinedRegion(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setMaxWait(3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setPauseBeforeBegin(3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ObjectCollection islandName = new ObjectCollection.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .withRegions(island.getIslandName().getSearchRegion())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return action.perform(getText, islandName).getSelectedText();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="converting-text-to-island-types">Converting Text to Island Types<a aria-hidden="true" class="hash-link" href="#converting-text-to-island-types" title="Direct link to heading">â€‹</a></h2><p>First, we create a variable that maps pieces of the island type
words that are representative of these words. For example, &quot;Mine&quot;
is representative of the type Mines; if our text retrieval function
finds the word &quot;Minez&quot;, we can assume that the real text is &quot;Mines&quot;,
since the string &quot;Mine&quot; is part of &quot;Minez&quot;.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">private Map&lt;String, String&gt; islandTypes = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    islandTypes.put(&quot;Burg&quot;, &quot;Castle&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    islandTypes.put(&quot;Mine&quot;, &quot;Mines&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    islandTypes.put(&quot;Farm&quot;, &quot;Farms&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    islandTypes.put(&quot;Moun&quot;, &quot;Mountains&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    islandTypes.put(&quot;Fore&quot;, &quot;Forest&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    islandTypes.put(&quot;Lake&quot;, &quot;Lakes&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://jspinak.github.io/brobot/docs/tutorial-basics/get-island-type.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/brobot/docs/tutorial-basics/define-capture-region"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Define the Capture Region</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/brobot/docs/tutorial-basics/save-labeled-image"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Save Labeled Images<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#go-to-a-new-island-and-get-its-type" class="table-of-contents__link toc-highlight">Go to a new Island and Get its Type</a></li><li><a href="#capturing-text" class="table-of-contents__link toc-highlight">Capturing Text</a></li><li><a href="#converting-text-to-island-types" class="table-of-contents__link toc-highlight">Converting Text to Island Types</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/brobot/docs/tutorial-basics/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/brobot" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/brobotJosh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/brobot/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/jspinak/brobot" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgRljq-lHkMLrzRzpJC4HNw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2022 Joshua Spinak</div></div></div></footer></div>
<script src="/brobot/assets/js/runtime~main.ba0eaa6f.js"></script>
<script src="/brobot/assets/js/main.abfd4bad.js"></script>
</body>
</html>